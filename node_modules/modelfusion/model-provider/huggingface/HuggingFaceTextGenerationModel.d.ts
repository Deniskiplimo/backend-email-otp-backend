import { z } from "zod";
import { FunctionOptions } from "../../core/FunctionOptions.js";
import { ApiConfiguration } from "../../core/api/ApiConfiguration.js";
import { AbstractModel } from "../../model-function/AbstractModel.js";
import { PromptFormatTextGenerationModel } from "../../model-function/generate-text/PromptFormatTextGenerationModel.js";
import { TextGenerationModel, TextGenerationModelSettings } from "../../model-function/generate-text/TextGenerationModel.js";
import { TextGenerationPromptFormat } from "../../model-function/generate-text/TextGenerationPromptFormat.js";
export interface HuggingFaceTextGenerationModelSettings extends TextGenerationModelSettings {
    api?: ApiConfiguration;
    model: string;
    topK?: number;
    topP?: number;
    temperature?: number;
    repetitionPenalty?: number;
    maxTime?: number;
    numReturnSequences?: number;
    doSample?: boolean;
    options?: {
        useCache?: boolean;
        waitForModel?: boolean;
    };
}
/**
 * Create a text generation model that calls a Hugging Face Inference API Text Generation Task.
 *
 * @see https://huggingface.co/docs/api-inference/detailed_parameters#text-generation-task
 *
 * @example
 * const model = new HuggingFaceTextGenerationModel({
 *   model: "tiiuae/falcon-7b",
 *   temperature: 0.7,
 *   maxCompletionTokens: 500,
 *   retry: retryWithExponentialBackoff({ maxTries: 5 }),
 * });
 *
 * const text = await generateText(
 *   model,
 *   "Write a short story about a robot learning to love:\n\n"
 * );
 */
export declare class HuggingFaceTextGenerationModel extends AbstractModel<HuggingFaceTextGenerationModelSettings> implements TextGenerationModel<string, HuggingFaceTextGenerationModelSettings> {
    constructor(settings: HuggingFaceTextGenerationModelSettings);
    readonly provider = "huggingface";
    get modelName(): string;
    readonly contextWindowSize: undefined;
    readonly tokenizer: undefined;
    readonly countPromptTokens: undefined;
    callAPI(prompt: string, options?: FunctionOptions): Promise<HuggingFaceTextGenerationResponse>;
    get settingsForEvent(): Partial<HuggingFaceTextGenerationModelSettings>;
    doGenerateText(prompt: string, options?: FunctionOptions): Promise<{
        response: {
            generated_text: string;
        }[];
        text: string;
    }>;
    withPromptFormat<INPUT_PROMPT>(promptFormat: TextGenerationPromptFormat<INPUT_PROMPT, string>): PromptFormatTextGenerationModel<INPUT_PROMPT, string, HuggingFaceTextGenerationModelSettings, this>;
    withSettings(additionalSettings: Partial<HuggingFaceTextGenerationModelSettings>): this;
}
declare const huggingFaceTextGenerationResponseSchema: z.ZodArray<z.ZodObject<{
    generated_text: z.ZodString;
}, "strip", z.ZodTypeAny, {
    generated_text: string;
}, {
    generated_text: string;
}>, "many">;
export type HuggingFaceTextGenerationResponse = z.infer<typeof huggingFaceTextGenerationResponseSchema>;
export {};
