/// <reference types="node" />
import { z } from "zod";
import { ApiCallError } from "./ApiCallError.js";
export type ResponseHandler<T> = (options: {
    url: string;
    requestBodyValues: unknown;
    response: Response;
}) => PromiseLike<T>;
export declare const createJsonResponseHandler: <T>(responseSchema: z.ZodType<T, z.ZodTypeDef, T>) => ResponseHandler<T>;
export declare const createTextResponseHandler: () => ResponseHandler<string>;
export declare const createAudioMpegResponseHandler: () => ResponseHandler<Buffer>;
export declare const postJsonToApi: <T>({ url, headers, body, failedResponseHandler, successfulResponseHandler, abortSignal, }: {
    url: string;
    headers?: Record<string, string> | undefined;
    body: unknown;
    failedResponseHandler: ResponseHandler<ApiCallError>;
    successfulResponseHandler: ResponseHandler<T>;
    abortSignal?: AbortSignal | undefined;
}) => Promise<T>;
export declare const postToApi: <T>({ url, headers, body, successfulResponseHandler, failedResponseHandler, abortSignal, }: {
    url: string;
    headers?: Record<string, string> | undefined;
    body: {
        content: string | FormData | Buffer;
        values: unknown;
    };
    failedResponseHandler: ResponseHandler<Error>;
    successfulResponseHandler: ResponseHandler<T>;
    abortSignal?: AbortSignal | undefined;
}) => Promise<T>;
